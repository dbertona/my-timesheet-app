#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Ejecutando validaciones antes de push..."

npm run lint || { echo "ğŸ’¥ Lint fallÃ³"; exit 1; }
npm run test --silent || { echo "ğŸ’¥ Tests fallaron"; exit 1; }
bash scripts/smoke-approval.sh || { echo "ğŸ’¥ Smoke AprobaciÃ³n fallÃ³"; exit 1; }
bash scripts/smoke-edit.sh || { echo "ğŸ’¥ Smoke EdiciÃ³n fallÃ³"; exit 1; }
bash scripts/smoke-dashboard.sh || { echo "ğŸ’¥ Falta BackToDashboard"; exit 1; }
bash scripts/smoke-styles.sh || { echo "ğŸ’¥ TÃ­tulos no usan clases comunes"; exit 1; }
bash scripts/smoke-rejected-edit.sh || { echo "ğŸ’¥ Falta manejo de lÃ­neas Rechazadas en EdiciÃ³n"; exit 1; }
bash scripts/smoke-modals.sh || { echo "ğŸ’¥ Se detectaron alert/confirm/prompt en UI"; exit 1; }

echo "âœ… Pre-push OK"

